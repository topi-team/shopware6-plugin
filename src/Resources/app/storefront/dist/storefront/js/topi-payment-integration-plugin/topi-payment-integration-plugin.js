(()=>{"use strict";var __webpack_modules__={857:t=>{var r=function(t){return n(t)&&!i(t)};function n(t){return!!t&&"object"==typeof t}function i(t){var r=Object.prototype.toString.call(t);return"[object RegExp]"===r||"[object Date]"===r||s(t)}var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(t){return t.$$typeof===o}function a(t){return Array.isArray(t)?[]:{}}function c(t,r){return!1!==r.clone&&r.isMergeableObject(t)?b(a(t),t,r):t}function u(t,r,n){return t.concat(r).map(function(t){return c(t,n)})}function l(t,r){if(!r.customMerge)return b;var n=r.customMerge(t);return"function"==typeof n?n:b}function h(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(r){return Object.propertyIsEnumerable.call(t,r)}):[]}function d(t){return Object.keys(t).concat(h(t))}function p(t,r){try{return r in t}catch(t){return!1}}function f(t,r){return p(t,r)&&!(Object.hasOwnProperty.call(t,r)&&Object.propertyIsEnumerable.call(t,r))}function g(t,r,n){var i={};return n.isMergeableObject(t)&&d(t).forEach(function(r){i[r]=c(t[r],n)}),d(r).forEach(function(o){f(t,o)||(p(t,o)&&n.isMergeableObject(r[o])?i[o]=l(o,n)(t[o],r[o],n):i[o]=c(r[o],n))}),i}function b(t,n,i){(i=i||{}).arrayMerge=i.arrayMerge||u,i.isMergeableObject=i.isMergeableObject||r,i.cloneUnlessOtherwiseSpecified=c;var o=Array.isArray(n);return o!==Array.isArray(t)?c(n,i):o?i.arrayMerge(t,n,i):g(t,n,i)}b.all=function(t,r){if(!Array.isArray(t))throw Error("first argument should be an array");return t.reduce(function(t,n){return b(t,n,r)},{})};var m=b;t.exports=m},890:(t,r,n)=>{n.d(r,{Z:()=>u});var i=n(857),o=n.n(i);class s{static ucFirst(t){return t.charAt(0).toUpperCase()+t.slice(1)}static lcFirst(t){return t.charAt(0).toLowerCase()+t.slice(1)}static toDashCase(t){return t.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()}static toLowerCamelCase(t,r){let n=s.toUpperCamelCase(t,r);return s.lcFirst(n)}static toUpperCamelCase(t,r){return r?t.split(r).map(t=>s.ucFirst(t.toLowerCase())).join(""):s.ucFirst(t.toLowerCase())}static parsePrimitive(t){try{return/^\d+(.|,)\d+$/.test(t)&&(t=t.replace(",",".")),JSON.parse(t)}catch(r){return t.toString()}}}class a{static isNode(t){return"object"==typeof t&&null!==t&&(t===document||t===window||t instanceof Node)}static hasAttribute(t,r){if(!a.isNode(t))throw Error("The element must be a valid HTML Node!");return"function"==typeof t.hasAttribute&&t.hasAttribute(r)}static getAttribute(t,r){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(n&&!1===a.hasAttribute(t,r))throw Error('The required property "'.concat(r,'" does not exist!'));if("function"!=typeof t.getAttribute){if(n)throw Error("This node doesn't support the getAttribute function!");return}return t.getAttribute(r)}static getDataAttribute(t,r){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],i=r.replace(/^data(|-)/,""),o=s.toLowerCamelCase(i,"-");if(!a.isNode(t)){if(n)throw Error("The passed node is not a valid HTML Node!");return}if(void 0===t.dataset){if(n)throw Error("This node doesn't support the dataset attribute!");return}let c=t.dataset[o];if(void 0===c){if(n)throw Error('The required data attribute "'.concat(r,'" does not exist on ').concat(t,"!"));return c}return s.parsePrimitive(c)}static querySelector(t,r){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(n&&!a.isNode(t))throw Error("The parent node is not a valid HTML Node!");let i=t.querySelector(r)||!1;if(n&&!1===i)throw Error('The required element "'.concat(r,'" does not exist in parent node!'));return i}static querySelectorAll(t,r){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(n&&!a.isNode(t))throw Error("The parent node is not a valid HTML Node!");let i=t.querySelectorAll(r);if(0===i.length&&(i=!1),n&&!1===i)throw Error('At least one item of "'.concat(r,'" must exist in parent node!'));return i}}class c{publish(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new CustomEvent(t,{detail:r,cancelable:n});return this.el.dispatchEvent(i),i}subscribe(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this,o=t.split("."),s=n.scope?r.bind(n.scope):r;if(n.once&&!0===n.once){let r=s;s=function(n){i.unsubscribe(t),r(n)}}return this.el.addEventListener(o[0],s),this.listeners.push({splitEventName:o,opts:n,cb:s}),!0}unsubscribe(t){let r=t.split(".");return this.listeners=this.listeners.reduce((t,n)=>([...n.splitEventName].sort().toString()===r.sort().toString()?this.el.removeEventListener(n.splitEventName[0],n.cb):t.push(n),t),[]),!0}reset(){return this.listeners.forEach(t=>{this.el.removeEventListener(t.splitEventName[0],t.cb)}),this.listeners=[],!0}get el(){return this._el}set el(t){this._el=t}get listeners(){return this._listeners}set listeners(t){this._listeners=t}constructor(t=document){this._el=t,t.$emitter=this,this._listeners=[]}}class u{init(){throw Error('The "init" method for the plugin "'.concat(this._pluginName,'" is not defined.'))}update(){}_init(){this._initialized||(this.init(),this._initialized=!0)}_update(){this._initialized&&this.update()}_mergeOptions(t){let r=s.toDashCase(this._pluginName),n=a.getDataAttribute(this.el,"data-".concat(r,"-config"),!1),i=a.getAttribute(this.el,"data-".concat(r,"-options"),!1),c=[this.constructor.options,this.options,t];n&&c.push(window.PluginConfigManager.get(this._pluginName,n));try{i&&c.push(JSON.parse(i))}catch(t){throw console.error(this.el),Error('The data attribute "data-'.concat(r,'-options" could not be parsed to json: ').concat(t.message))}return o().all(c.filter(t=>t instanceof Object&&!(t instanceof Array)).map(t=>t||{}))}_registerInstance(){window.PluginManager.getPluginInstancesFromElement(this.el).set(this._pluginName,this),window.PluginManager.getPlugin(this._pluginName,!1).get("instances").push(this)}_getPluginName(t){return t||(t=this.constructor.name),t}constructor(t,r={},n=!1){if(!a.isNode(t))throw Error("There is no valid element given.");this.el=t,this.$emitter=new c(this.el),this._pluginName=this._getPluginName(n),this.options=this._mergeOptions(r),this._initialized=!1,this._registerInstance(),this._init()}}},229:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>TopiPaymentIntegrationPlugin});var src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(890);class TopiPaymentIntegrationPlugin extends src_plugin_system_plugin_class__WEBPACK_IMPORTED_MODULE_0__.Z{init(){window.PluginManager.getPluginInstanceFromElement(document.querySelector("[data-off-canvas-cart]"),"OffCanvasCart").$emitter.subscribe("offCanvasOpened",this.onOffCanvasCartOpened)}onOffCanvasCartOpened(){eval(document.querySelector("script#topi-offcanvas-cart-items").innerHTML)}}}},__webpack_module_cache__={};function __webpack_require__(t){var r=__webpack_module_cache__[t];if(void 0!==r)return r.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}(()=>{__webpack_require__.n=t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(r,{a:r}),r}})(),(()=>{__webpack_require__.d=(t,r)=>{for(var n in r)__webpack_require__.o(r,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}})(),(()=>{__webpack_require__.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r)})();var __webpack_exports__={};(()=>{var t=__webpack_require__(229);window.PluginManager.register("TopiPaymentIntegration",t.Z,"[data-off-canvas-cart]")})()})();