"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["topi-payment-integration-plugin"],{5183:(t,a,e)=>{var n=e(6285);class o extends n.Z{init(){this.bindOffCanvasIfAvailable(),this.applyFromData()}bindOffCanvasIfAvailable(){try{const t=document.querySelector("[data-off-canvas-cart], [data-offcanvas-cart], #offcanvas-cart");if(!t)return;const a=window.PluginManager.getPluginInstanceFromElement(t,"OffCanvasCart")||window.PluginManager.getPluginInstanceFromElement(t,"OffCanvas");a&&a.$emitter&&a.$emitter.subscribe("offCanvasOpened",this.onOffCanvasOpened.bind(this))}catch(t){}}onOffCanvasOpened(){this.applyFromData()}applyFromData(){const t=document.querySelector("#topi-offcanvas-cart-items-data"),a=null==t?void 0:t.getAttribute("data-topi-cart-items");if(!a)return;let e=[];try{e=Object.values(JSON.parse(a))}catch(t){}console.log("topi.cartItems",e);const n=()=>{window.topi=window.topi||{},window.topi.cartItems=e,console.log("window.topi.cartItems",e)};void 0===window.topi?(console.log("topi.widgets not loaded yet, waiting..."),window.addEventListener("topi.widgets.loaded",n,{once:!0})):n()}}window.PluginManager.register("TopiPaymentIntegration",o,"body")}},t=>{t.O(0,["vendor-node","vendor-shared"],(()=>{return a=5183,t(t.s=a);var a}));t.O()}]);