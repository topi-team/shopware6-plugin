{% sw_extends '@Storefront/storefront/layout/meta.html.twig' %}


{% block layout_head_javascript_jquery %}
    {{ parent() }}

    {% block layout_head_topi_script %}
        {% set extensionName = constant('TopiPaymentIntegration\\Content\\Extension\\StorefrontExtension::EXTENSION_NAME') %}

        {% if page.hasExtension(extensionName) %}
            <script src="{{ page.getExtension(extensionName).widgetJsUrl }}" type="text/javascript">
            </script>
            <script type="text/javascript">
              const topi = new TopiElements({
                locale: "de",
                widgetId: "{{ page.getExtension(extensionName).widgetId }}",
              });
            </script>
        {% endif %}
    {% endblock %}
{% endblock %}
