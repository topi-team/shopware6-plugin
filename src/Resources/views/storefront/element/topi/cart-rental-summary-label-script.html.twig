{% block topi_cart_rental_summry_label_script %}
    {% set extensionName = constant('TopiPaymentIntegration\\Content\\Extension\\ProductExtension::EXTENSION_NAME') %}

    <script>
      var cartItems = Object.values({{ products|map(p => p.getExtension(extensionName))|json_encode|raw }});
      if (typeof topi === 'undefined') {
        window.addEventListener("topi.widgets.loaded", function () {
          topi.cartItems = cartItems
        });
      } else {
        topi.cartItems = cartItems;
      }
    </script>
{% endblock %}
